<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cosmovon</title>

<link rel="icon" href="/Untitled desing.png" type="image/png">

<!-- Fonts -->

<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

<link href="https://fonts.googleapis.com/css2?family=TikTok+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>

- {margin:0;padding:0;box-sizing:border-box;}

body{font-family:"TikTok Sans",sans-serif;background:#fafafa;color:#111;overflow-x:hidden;}

header{font-family:"Instrument Serif", serif;font-size:32px;text-align:center;padding:20px 0 10px 0;letter-spacing:-0.5px;}

main{max-width:900px;margin:20px auto;padding:0 16px;}

.news-item{background:white;padding:24px;border-radius:14px;margin-bottom:24px;border:1px solid #eaeaea;}

.news-title{font-family:"Instrument Serif", serif;font-size:28px;margin-bottom:12px;line-height:1.2;}

.news-body{font-size:16px;line-height:1.6;color:#333;}

.news-item img{width:100%;margin-top:16px;border-radius:12px;}

/* SEARCH BUTTON */

#openSearchButton {

position: fixed;

top: 90px; /* moved slightly down to avoid overlap with header */

right: 20px;

width:42px;

height:42px;

border-radius:50%;

border:1px solid #ccc;

background:white;

display:flex;

justify-content:center;

align-items:center;

cursor:pointer;

z-index:20;

transition:opacity .2s ease;

}

#openSearchButton:hover{opacity:0.8;}

/* SEARCH OVERLAY */

#searchOverlay{

position:fixed; top:0; left:0; width:100%; height:100%;

background:rgba(250,250,250,0.97);

opacity:0; pointer-events:none; transition:opacity .25s ease;

z-index:50; display:flex; flex-direction:column; padding:30px;

}

#searchOverlay.active{opacity:1; pointer-events:auto;}

#searchBox{width:calc(100% - 40px); margin:80px auto 0 auto; padding:14px 18px; font-size:18px; border-radius:12px; border:1px solid #ccc; outline:none; display:block;}

#closeSearch{position:absolute; top:35px; right:25px; font-size:22px; cursor:pointer; opacity:0.7;}

/* ADD STORY BUTTON */

#addButton{

position:fixed; bottom:40px; right:30px; width:58px; height:58px;

border-radius:50%; background:black; color:white; font-size:32px;

display:flex; justify-content:center; align-items:center; cursor:pointer; z-index:20; transition:transform .2s ease;

}

#addButton:hover{transform:scale(1.05);}

/* STORY PANEL */

#storyPanel{

position:fixed; bottom:0; left:0; width:100%; height:82%;

background:white; border-top-left-radius:26px; border-top-right-radius:26px;

transform:translateY(120%); transition:transform .35s ease;

z-index:100; display:flex; flex-direction:column; padding:22px;

}

#storyPanel.active{transform:translateY(0);}

#closeStory{position:absolute; top:16px; right:22px; font-size:22px; cursor:pointer; opacity:0.7;}

#storyTitle{font-family:"Instrument Serif", serif; font-size:24px; border:none; outline:none; margin-top:52px;}

#storyBody{margin-top:18px; border:none; outline:none; height:100%; resize:none; font-size:17px; font-family:"TikTok Sans",sans-serif;}

#publishButton{margin-top:14px; padding:12px; background:black; color:white; border:none; font-size:17px; border-radius:10px; cursor:pointer;}

#storyImage { font-family: "TikTok Sans",sans-serif ; margin-top: 12px; padding: 10px; border: 1px solid #ddd;border-radius: 10px; font-size: 15px;background: #fafafa;}

.news-item img {width: 60%;max-width: 260px;display: block;margin: 14px auto 0 auto;border-radius: 10px;opacity: 0.95;}

</style>

</head>

<body>

<header>Cosmovon</header>

<main>

<div id="newsList"></div>

</main>

<!-- SEARCH BUTTON -->

<div id="openSearchButton">‚åï</div>

<!-- SEARCH OVERLAY -->

<div id="searchOverlay">

<div id="closeSearch">‚úï</div>

<input id="searchBox" placeholder="Search...">

<div id="searchResults"></div>

</div>

<div id="fullStoryPanel">

<div id="closeFullStory">‚úï</div>

<button onclick="askDeleteStory(STORY_ID)">üóëÔ∏è</button>

<div id="fullStoryTitle"></div>

<div id="fullStoryBody"></div>

</div>

<!-- ADD STORY BUTTON -->

<div id="addButton">+</div>

<!-- STORY PANEL -->

<div id="storyPanel">

<div id="closeStory">‚úï</div>

<input id="storyTitle" placeholder="Title...">

<textarea id="storyBody" placeholder="Write your story..."></textarea>

<input type="file" id="storyImage" accept="image/*">

<button id="publishButton">Publish</button>

</div>

<button id="deleteStoryButton">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
        <path d="M3 6h18M8 6v14m8-14v14M5 6l1 14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-14"/>
        <path d="M10 6V4a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v2"/>
    </svg>
</button>


</div>

</div>

</div>

<div id="editMenu" class="edit-menu hidden">

<button onclick="formatText('bold')">B</button>

<button onclick="formatText('italic')">I</button>

</div>

<style>

.edit-menu {

position: fixed;

bottom: 90px;

left: 50%;

transform: translateX(-50%);

background: #111;

border-radius: 14px;

padding: 10px 14px;

display: flex;

gap: 12px;

z-index: 9999;

transition: opacity .15s ease;

}

.edit-menu.hidden {

opacity: 0;

pointer-events: none;

}

.confirm-popup {

position: fixed;

inset: 0;

background: rgba(0,0,0,0.55);

display: flex;

align-items: center;

justify-content: center;

z-index: 9999;

}

.confirm-popup.hidden {

display: none;

}

.confirm-box {

background: #111;

padding: 18px 22px;

border-radius: 14px;

width: 260px;

color: white;

animation: popup 0.18s ease-out;

}

.confirm-actions {

margin-top: 15px;

display: flex;

justify-content: space-between;

}

.confirm-actions button {

padding: 8px 14px;

border-radius: 8px;

border: none;

font-weight: 600;

}

@keyframes popup {

from { transform: scale(0.9); opacity: 0; }

to { transform: scale(1); opacity: 1; }

}

#fullStoryPanel{

position:fixed; bottom:0; left:0; width:100%; height:100%;

background:white; z-index:150; display:flex; flex-direction:column;

padding:30px; overflow-y:auto;

transform: translateY(120%);

transition: transform .35s ease;

}

#fullStoryPanel.active{

transform: translateY(0);

}

.news-thumb {

width: 60%;

max-width: 260px;

display: block;

margin: 12px auto;

border-radius: 10px;

opacity: 0.95;

}

.full-image {

width: 70%;

max-width: 350px;

display: block;

margin: 20px auto;

border-radius: 12px;

}

.full-text {

font-family: "TikTok Sans", sans-serif;

font-size: 17px;

line-height: 1.6;

margin-top: 18px;

}

/* DELETE BUTTON INSIDE FULL STORY */

#deleteStoryButton {

position: absolute;

top: 20px;

right: 60px;

font-size: 20px;

border: 1px solid black;

color: white;

border: none;

padding: 10px 12px;

border-radius: 50%;

cursor: pointer;

opacity: 0.9;

display: none;

}

#deleteStoryButton:hover {

opacity: 1;

}

#closeFullStory{position:absolute; top:20px; right:25px; font-size:22px; cursor:pointer; opacity:0.7;}

#fullStoryTitle{font-family:"Instrument Serif", serif; font-size:28px; margin-top:60px; margin-bottom:20px;}

#fullStoryBody{font-family:"TikTok Sans",sans-serif; font-size:17px; line-height:1.6;}

</style>

</body>

<script>
let STORIES = [];
let currentStoryId = null;

const newsList = document.getElementById("newsList");
const storyPanel = document.getElementById("storyPanel");
const fullPanel = document.getElementById("fullStoryPanel");

// buttons
const addButton = document.getElementById("addButton");
const closeStory = document.getElementById("closeStory");
const closeFullStory = document.getElementById("closeFullStory");
const deleteStoryButton = document.getElementById("deleteStoryButton");

// fields
const titleInput = document.getElementById("storyTitle");
const bodyInput = document.getElementById("storyBody");
const imgInput = document.getElementById("storyImage");

// open ADD PANEL
addButton.onclick = () => {
    storyPanel.classList.add("active");
};

// close ADD PANEL
closeStory.onclick = () => {
    storyPanel.classList.remove("active");
};

// publish story
document.getElementById("publishButton").onclick = () => {
    const id = Date.now();
    const title = titleInput.value.trim();
    const body = bodyInput.value.trim();

    let imgURL = null;
    if (imgInput.files.length > 0) {
        imgURL = URL.createObjectURL(imgInput.files[0]);
    }

    STORIES.push({ id, title, body, img: imgURL });
    renderStories();

    // reset panel
    titleInput.value = "";
    bodyInput.value = "";
    imgInput.value = "";

    storyPanel.classList.remove("active");
};

// render story list
function renderStories() {
    newsList.innerHTML = "";

    STORIES.forEach(story => {
        const box = document.createElement("div");
        box.className = "news-item";
        box.onclick = () => openFullStory(story.id);

        box.innerHTML = `
            <div class="news-title">${story.title}</div>
            <div class="news-body">${story.body.substring(0, 200)}...</div>
            ${story.img ? `<img class="news-thumb" src="${story.img}">` : ""}
        `;

        newsList.appendChild(box);
    });
}

// open FULL STORY panel
function openFullStory(id) {
    const story = STORIES.find(s => s.id === id);
    if (!story) return;

    currentStoryId = id;
    deleteStoryButton.style.display = "block";

    document.getElementById("fullStoryTitle").textContent = story.title;
    document.getElementById("fullStoryBody").textContent = story.body;

    if (story.img) {
        const img = document.createElement("img");
        img.src = story.img;
        img.className = "full-image";
        document.getElementById("fullStoryBody").appendChild(img);
    }

    fullPanel.classList.add("active");
}

// close FULL STORY panel
closeFullStory.onclick = () => {
    fullPanel.classList.remove("active");
    deleteStoryButton.style.display = "none";
    currentStoryId = null;
};

// click DELETE
deleteStoryButton.onclick = () => {
    const sure = confirm("Delete this story?");
    if (!sure) return;

    STORIES = STORIES.filter(s => s.id !== currentStoryId);

    renderStories();
    fullPanel.classList.remove("active");
    deleteStoryButton.style.display = "none";
    currentStoryId = null;
};
</script>


</html>
